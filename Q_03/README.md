# 3번 문제

주어진 프로젝트 는 다음의 기능을 구현하고자 생성한 프로젝트이다.

### 1. Turret
- Trigger 범위 내로 플레이어가 들어왔을 때 1.5초에 한번씩 플레이어를 바라보면서 총알을 발사한다
- Trigger 범위 바깥으로 플레이어가 나가면 발사를 중지한다.
- 오브젝트 풀을 사용해 총알을 관리한다.

### 2. Bullet :
- 20만큼의 힘으로 전방을 향해 발사된다
- 발사 후 5초 경과 시 비활성화 처리된다
- 플레이어를 가격했을 경우 2의 데미지를 준다

### 3. Player
- 총알과 충돌했을 때, 데미지를 입는다
- 체력이 0 이하가 될 경우 효과음을 재생하며 비활성화된다.
- 플레이어의 이동은 씬 뷰를 사용해 이동하도록 한다.

위 기능들을 구현하고자 할 때
제시된 프로젝트에서 발생하는 `문제들을 모두 서술`하고 올바르게 동작하도록 `소스코드를 개선`하시오.

## 답안

- ### 총알을 발사하지 않는 이유.
  - 로그를 찍어본 결과, OnTriggerEnter가 실행되지 않는것을 발견.
  - 이유 : Player에 Rigidbody가 존재하지 않음.

-> bullet에도 Rigidbody가 달려있지 않아 에러로그 발생.
- bulletPrefab에 rigidbody추가

- ### 총알이 플레이어에 닿았을 때, BulletController의 OnTriggerEnter를 실행 하는 과정에서, PlayerController스크립트와 Collider가 다른곳에 위치함
  - Player 상위 오브젝트에 is trigger 히트박스 추가 및
  - 스크립트에서 playercontroller가 null이면 return;
 
- 또한, 닿았을 경우 ReturnPool 실시해, 총알 추가 생성 방지

- ### 플레이어가 is trigger를 벗어났을 경우에도 계속 총알 발사.
  - 코루틴 중지 기능 부재.
  - ontriggerexit => StopCoroutine();
 
- ### 플레이어의 사망 사운드 출력 이슈
  - 플레이어의 오디오 클립이 재생되자마자 게임 오브젝트가 비활성화됨
  - 오디오클립의 길이만큼 기다린 후에 죽는 코루틴 추가 
